{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 15,
  "summary": "Website for Christian Bible verses featuring a Home Screen with multiple navigation options (Old Testament, New Testament, Daily Verse, Stories, etc.), a starter set of common Bible stories chosen by the assistant, story/verse images that can be uploaded only by the site owner (admin) and viewed by everyone, and a randomly generated Daily Verse.",
  "architectural_notes": [
    "Implement admin-only image upload authorization using a single admin identity allowlist (site owner). Hide upload controls for non-admin users; enforce permissions server-side.",
    "Add site favicon/app icon assets (including a circular-cropped version from the provided image) and reference them in the site head/manifest as needed.",
    "Ensure uploaded image storage/access rules allow public read for all images (story/verse), while keeping write/update restricted to the single admin; frontend should fetch/display images without requiring viewer authentication."
  ],
  "known_issues": [],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-home-screen-that-presents-navigation-options-for-old-testament-new-testament-daily-verse-and-stories",
      "title": "Create a Home screen that presents navigation options for: Old Testament, New Testament, Daily Verse, and Stories.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-stories-section-with-a-basic-starter-set-of-common-bible-stories-selected-by-the-assistant-where-each-story-has-title-short-summary-at-least-one-key-verse-reference-text-and-an-associated-image-slot",
      "title": "Implement a Stories section with a basic starter set of common Bible stories selected by the assistant, where each story has: title, short summary, at least one key verse (reference + text), and an associated image slot.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-support-user-uploaded-images-tied-to-specific-bible-stories-verses-allow-a-signed-in-user-to-upload-an-image-for-a-given-story-and-or-verse-entry-store-it-in-the-backend-and-display-it-on-the-corresponding-story-verse-ui",
      "title": "Support user-uploaded images tied to specific Bible stories/verses: allow a signed-in user to upload an image for a given story (and/or verse entry), store it in the backend, and display it on the corresponding story/verse UI.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-daily-verse-so-it-displays-a-verse-selected-randomly-each-day-from-an-included-verse-set-and-the-verse-remains-consistent-for-the-same-day-e-g-based-on-the-current-utc-date",
      "title": "Implement Daily Verse so it displays a verse selected randomly each day from an included verse set, and the verse remains consistent for the same day (e.g., based on the current UTC date).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-old-testament-and-new-testament-sections-that-let-users-browse-a-curated-verse-set-categorized-by-testament-with-a-verse-detail-view-that-can-optionally-show-an-uploaded-image-tied-to-that-verse-entry",
      "title": "Implement Old Testament and New Testament sections that let users browse a curated verse set categorized by testament, with a verse detail view that can optionally show an uploaded image tied to that verse entry.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-choose-and-apply-a-coherent-distinctive-visual-theme-across-the-site-colors-typography-spacing-and-component-styling-appropriate-for-a-christian-bible-verses-website-avoiding-a-blue-purple-dominant-palette",
      "title": "Choose and apply a coherent, distinctive visual theme across the site (colors, typography, spacing, and component styling) appropriate for a Christian Bible verses website, avoiding a blue/purple-dominant palette.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-image-upload-ui-so-that-the-upload-controls-are-shown-only-for-the-admin-user-non-admin-users-must-not-see-the-file-picker-upload-button-non-admin-users-should-still-be-able-to-view-existing-images",
      "title": "Update the image upload UI so that the upload controls are shown only for the admin user; non-admin users must not see the file picker/upload button. Non-admin users should still be able to view existing images.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-frontend-data-access-react-query-hook-to-fetch-the-caller-admin-status-from-the-backend-and-wire-it-into-the-image-upload-component-s-so-authorization-state-updates-correctly-after-login-logout",
      "title": "Add frontend data access (React Query hook) to fetch the caller admin status from the backend and wire it into the image upload component(s) so authorization state updates correctly after login/logout.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-a-circular-round-masked-website-icon-set-from-the-user-uploaded-image-img-6658-webp-and-integrate-it-as-the-site-favicon-app-icon-by-adding-the-appropriate-link-tags-to-frontend-index-html-and-placing-the-generated-assets-in-the-frontend-static-assets-folder",
      "title": "Generate a circular (round-masked) website icon set from the user-uploaded image (IMG_6658.webp), and integrate it as the site favicon/app icon by adding the appropriate <link> tags to frontend/index.html and placing the generated assets in the frontend static assets folder.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-simple-frontend-friendly-failure-state-for-image-rendering-so-that-if-an-image-url-fails-to-load-e-g-403-404-the-ui-shows-an-english-fallback-message-in-place-of-the-broken-image-without-revealing-admin-only-upload-controls",
      "title": "Add a simple frontend-friendly failure state for image rendering so that if an image URL fails to load (e.g., 403/404), the UI shows an English fallback message in place of the broken image (without revealing admin-only upload controls).",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-frontend-image-component-so-that-if-an-image-previously-failed-to-load-and-then-becomes-available-e-g-after-re-render-or-after-replacing-the-image-the-error-fallback-state-resets-and-the-image-can-render-without-requiring-a-full-page-refresh",
      "title": "Improve the frontend image component so that if an image previously failed to load and then becomes available (e.g., after re-render or after replacing the image), the error/fallback state resets and the image can render without requiring a full page refresh.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-publish-deploy-the-current-draft-build-to-the-production-site-so-that-the-live-site-reflects-the-latest-draft-version",
      "title": "Publish (deploy) the current draft build to the production site so that the live site reflects the latest draft version.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Create a Christian Bible verses website with a Home Screen for navigating content.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Home Screen should include options such as Old Testament, New Testament, Daily Verse, and Stories (include all suggested categories).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Include a basic starter set of common Bible stories selected by the assistant.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Support user-uploaded images tied to specific Bible stories/verses.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Daily Verse feature should display a randomly selected verse each day.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Restrict image uploads so only the site owner (single admin) can upload; non-admin users can view images but cannot upload (upload UI hidden for non-admin).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Enforce backend authorization so that only the single admin (site owner) can upload or replace story/verse images; all other users (including signed-in non-admin users) must be rejected by the backend if they attempt to upload.",
      "reqIds": [
        "REQ-7"
      ],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Expose a backend query method that allows the frontend to determine whether the current caller is the admin (site owner), without granting upload capability by itself.",
      "reqIds": [
        "REQ-8"
      ],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Create and integrate a circular website icon (favicon) based on the user-provided image.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Make all uploaded story/verse images publicly viewable by everyone (even not signed in); only admin can upload/replace, but read access must not be restricted to the uploader.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Update the backend image/blob storage authorization so that all uploaded story and verse images are publicly readable by anyone (including anonymous visitors), while keeping upload/replace strictly admin-only.",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Ensure previously uploaded images (already stored in the canister) become publicly readable after this change, without requiring the admin to re-upload them; add a state migration only if necessary to update existing stored blob permissions/metadata.",
      "reqIds": [
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Update backend blob/image storage authorization so that any uploaded story/verse image is publicly readable by anyone (including anonymous/signed-out visitors), while keeping upload/replace strictly admin-only.",
      "reqIds": [
        "REQ-15"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Ensure previously uploaded image(s) already stored in the canister become publicly readable after the authorization change, without requiring the admin to re-upload; add a Motoko state migration only if necessary to update existing stored blob permissions/metadata.",
      "reqIds": [
        "REQ-16"
      ],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Roll back the live production site from Version 6 to the previously deployed Version 5.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Roll back the live production site from Version 6 to the previously deployed Version 5 (production rollback only; do not change the draft/codebase).",
      "reqIds": [
        "REQ-19"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Christian Bible Verses Website with Home Navigation, Stories, Image Uploads, and Random Daily Verse",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}